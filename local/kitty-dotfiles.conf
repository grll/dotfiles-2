# Remote control (needed for kitten @ from remote)
allow_remote_control socket-only
listen_on unix:/tmp/kitty-{kitty_pid}

# Notify when commands > 15s finish (needs shell integration)
notify_on_cmd_finish unfocused 15.0

# Startup session
startup_session sessions/work.conf

# Close tabs without confirmation
confirm_os_window_close 0
map cmd+w close_tab

# Smart new tab (same dir, works for local and remote)
map cmd+t launch --type=overlay --allow-remote-control ~/dotfiles/local/new-tab.sh
map cmd+shift+t launch --type=overlay --allow-remote-control ~/dotfiles/local/new-tab.sh os-window

# Worktree picker (git)
map cmd+g launch --type=overlay --allow-remote-control ~/dotfiles/local/tab-picker.sh
map cmd+shift+g launch --type=overlay --allow-remote-control ~/dotfiles/local/tab-picker.sh os-window
